# Prenotami Monitor v2.1 Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# REQUIRED - Account Credentials
# ============================================================================

# Prenotami login credentials
PRENOTAMI_EMAIL=your@email.com
PRENOTAMI_PASSWORD=your_password

# ============================================================================
# TARGET - What to monitor
# ============================================================================

# Consulate: saopaulo | curitiba | rio | bh | recife | fortaleza | salvador | brasilia | portoalegre | vitoria
PRENOTAMI_CONSULATE=saopaulo

# Service type: passport_first | passport_renewal | citizenship | cie
PRENOTAMI_SERVICE=passport_first

# Optional: Specific service ID (found by inspecting the booking page URL)
# PRENOTAMI_SERVICE_ID=136

# ============================================================================
# TIMING - Check intervals
# ============================================================================

# Active mode: Peak hours (Mon/Wed 10:00-12:00 BRT)
CHECK_INTERVAL_ACTIVE=5000

# Normal mode: Regular monitoring
CHECK_INTERVAL_NORMAL=300000

# Idle mode: Off-hours (23:00-07:00)
CHECK_INTERVAL_IDLE=1800000

# ============================================================================
# NOTIFICATIONS - Where to send alerts
# ============================================================================

# Channel: telegram | signal | discord | whatsapp
NOTIFY_CHANNEL=telegram

# Target chat/user ID
NOTIFY_TARGET=

# Moltbot gateway URL (for HTTP notifications)
MOLTBOT_GATEWAY=http://localhost:3000

# ============================================================================
# AUTO-BOOKING - Automatically book when slots found
# ============================================================================

# Enable auto-booking (set to true to automatically book)
AUTO_BOOK=false

# ============================================================================
# CAPTCHA - Automatic CAPTCHA solving
# ============================================================================

# 2Captcha API key (get one at https://2captcha.com)
# Pricing: ~$2.99 per 1000 CAPTCHAs
CAPTCHA_API_KEY=

# ============================================================================
# PROXY - IP rotation to avoid detection
# ============================================================================

# Proxy server(s) - comma-separated for multiple
# Format: http://user:pass@host:port
# Examples:
#   PROXY_SERVERS=http://user:pass@proxy1.example.com:8080
#   PROXY_SERVERS=http://proxy1:8080,http://proxy2:8080,http://proxy3:8080
PROXY_SERVERS=

# Rotate proxy on each browser restart
PROXY_ROTATE=false

# ============================================================================
# SECURITY - Session encryption
# ============================================================================

# Encryption key for session storage (REQUIRED for production!)
# Generate with: openssl rand -hex 32
SESSION_ENCRYPTION_KEY=

# ============================================================================
# CIRCUIT BREAKER - Stop after too many failures
# ============================================================================

# Maximum consecutive errors before stopping (circuit breaker)
MAX_CONSECUTIVE_ERRORS=20

# Browser restart interval in milliseconds (memory leak prevention)
# Default: 6 hours = 21600000
BROWSER_RESTART_INTERVAL_MS=21600000

# ============================================================================
# OPTIONS
# ============================================================================

# Run browser in headless mode (false to see browser window)
HEADLESS=true

# Enable manual login mode (log in manually once, session is saved)
MANUAL_LOGIN=false

# Take screenshot when slots are found
SCREENSHOT_ON_FIND=true

# ============================================================================
# PATHS
# ============================================================================

# Session state file location (default: ./sessions/{ACCOUNT_ID}.json)
# SESSION_PATH=./sessions/default.json

# Screenshots directory
SCREENSHOT_DIR=./screenshots

# ============================================================================
# HEALTH MONITORING
# ============================================================================

# Port for health check endpoint
# Endpoints: /health, /ready, /metrics (Prometheus)
HEALTH_PORT=8080

# ============================================================================
# MULTI-ACCOUNT
# ============================================================================

# Unique account identifier (for running multiple instances)
# Used in logs, notifications, and session file naming
ACCOUNT_ID=default
